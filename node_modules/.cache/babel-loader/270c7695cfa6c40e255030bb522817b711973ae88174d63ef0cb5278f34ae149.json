{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Daniel\\\\CascadeProjects\\\\tp-simulator-react\\\\src\\\\components\\\\TradingViewChart\\\\TradingViewChart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { createChart } from 'lightweight-charts';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChartContainer = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n_c = ChartContainer;\nfunction TradingViewChart({\n  data,\n  containerHeight\n}) {\n  _s();\n  const chartContainerRef = useRef(null);\n  const chartRef = useRef(null);\n  useEffect(() => {\n    if (!chartContainerRef.current) return;\n\n    // Create the chart\n    const chart = createChart(chartContainerRef.current, {\n      layout: {\n        background: {\n          color: '#121212'\n        },\n        textColor: '#d1d4dc'\n      },\n      grid: {\n        vertLines: {\n          color: 'rgba(42, 46, 57, 0.5)'\n        },\n        horzLines: {\n          color: 'rgba(42, 46, 57, 0.5)'\n        }\n      },\n      rightPriceScale: {\n        borderColor: 'rgba(197, 203, 206, 0.5)'\n      },\n      timeScale: {\n        borderColor: 'rgba(197, 203, 206, 0.5)',\n        timeVisible: true,\n        secondsVisible: false\n      },\n      crosshair: {\n        mode: 0\n      },\n      width: chartContainerRef.current.clientWidth,\n      height: containerHeight || 400\n    });\n\n    // Create the main series (candlesticks)\n    const mainSeries = chart.addCandlestickSeries({\n      upColor: '#26a69a',\n      downColor: '#ef5350',\n      borderVisible: false,\n      wickUpColor: '#26a69a',\n      wickDownColor: '#ef5350'\n    });\n\n    // Add the data\n    if (data && data.length > 0) {\n      mainSeries.setData(data);\n    } else {\n      // Sample data if no data provided\n      const sampleData = generateSampleData();\n      mainSeries.setData(sampleData);\n    }\n\n    // Fit the chart content\n    chart.timeScale().fitContent();\n\n    // Store the chart instance\n    chartRef.current = chart;\n\n    // Handle resize\n    const handleResize = () => {\n      chart.applyOptions({\n        width: chartContainerRef.current.clientWidth\n      });\n    };\n    window.addEventListener('resize', handleResize);\n\n    // Cleanup\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      chart.remove();\n    };\n  }, [data, containerHeight]);\n  return /*#__PURE__*/_jsxDEV(ChartContainer, {\n    ref: chartContainerRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 10\n  }, this);\n}\n\n// Helper function to generate sample data\n_s(TradingViewChart, \"2rN9armGVJ1f+QeW0pB7tlSVqXQ=\");\n_c2 = TradingViewChart;\nfunction generateSampleData() {\n  const currentDate = new Date();\n  const data = [];\n  let basePrice = 10000; // Starting price for BTC/USD\n\n  for (let i = 0; i < 100; i++) {\n    const time = new Date(currentDate);\n    time.setMinutes(time.getMinutes() - i);\n    const volatility = 100;\n    const open = basePrice + (Math.random() - 0.5) * volatility;\n    const high = open + Math.random() * volatility;\n    const low = open - Math.random() * volatility;\n    const close = (high + low) / 2;\n    basePrice = close;\n    data.unshift({\n      time: time.getTime() / 1000,\n      open,\n      high,\n      low,\n      close\n    });\n  }\n  return data;\n}\nexport default TradingViewChart;\nvar _c, _c2;\n$RefreshReg$(_c, \"ChartContainer\");\n$RefreshReg$(_c2, \"TradingViewChart\");","map":{"version":3,"names":["React","useEffect","useRef","createChart","styled","jsxDEV","_jsxDEV","ChartContainer","div","_c","TradingViewChart","data","containerHeight","_s","chartContainerRef","chartRef","current","chart","layout","background","color","textColor","grid","vertLines","horzLines","rightPriceScale","borderColor","timeScale","timeVisible","secondsVisible","crosshair","mode","width","clientWidth","height","mainSeries","addCandlestickSeries","upColor","downColor","borderVisible","wickUpColor","wickDownColor","length","setData","sampleData","generateSampleData","fitContent","handleResize","applyOptions","window","addEventListener","removeEventListener","remove","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c2","currentDate","Date","basePrice","i","time","setMinutes","getMinutes","volatility","open","Math","random","high","low","close","unshift","getTime","$RefreshReg$"],"sources":["C:/Users/Daniel/CascadeProjects/tp-simulator-react/src/components/TradingViewChart/TradingViewChart.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { createChart } from 'lightweight-charts';\nimport styled from 'styled-components';\n\nconst ChartContainer = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n\nfunction TradingViewChart({ data, containerHeight }) {\n  const chartContainerRef = useRef(null);\n  const chartRef = useRef(null);\n\n  useEffect(() => {\n    if (!chartContainerRef.current) return;\n\n    // Create the chart\n    const chart = createChart(chartContainerRef.current, {\n      layout: {\n        background: { color: '#121212' },\n        textColor: '#d1d4dc',\n      },\n      grid: {\n        vertLines: { color: 'rgba(42, 46, 57, 0.5)' },\n        horzLines: { color: 'rgba(42, 46, 57, 0.5)' },\n      },\n      rightPriceScale: {\n        borderColor: 'rgba(197, 203, 206, 0.5)',\n      },\n      timeScale: {\n        borderColor: 'rgba(197, 203, 206, 0.5)',\n        timeVisible: true,\n        secondsVisible: false,\n      },\n      crosshair: {\n        mode: 0,\n      },\n      width: chartContainerRef.current.clientWidth,\n      height: containerHeight || 400,\n    });\n\n    // Create the main series (candlesticks)\n    const mainSeries = chart.addCandlestickSeries({\n      upColor: '#26a69a',\n      downColor: '#ef5350',\n      borderVisible: false,\n      wickUpColor: '#26a69a',\n      wickDownColor: '#ef5350',\n    });\n\n    // Add the data\n    if (data && data.length > 0) {\n      mainSeries.setData(data);\n    } else {\n      // Sample data if no data provided\n      const sampleData = generateSampleData();\n      mainSeries.setData(sampleData);\n    }\n\n    // Fit the chart content\n    chart.timeScale().fitContent();\n\n    // Store the chart instance\n    chartRef.current = chart;\n\n    // Handle resize\n    const handleResize = () => {\n      chart.applyOptions({\n        width: chartContainerRef.current.clientWidth,\n      });\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    // Cleanup\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      chart.remove();\n    };\n  }, [data, containerHeight]);\n\n  return <ChartContainer ref={chartContainerRef} />;\n}\n\n// Helper function to generate sample data\nfunction generateSampleData() {\n  const currentDate = new Date();\n  const data = [];\n  let basePrice = 10000; // Starting price for BTC/USD\n\n  for (let i = 0; i < 100; i++) {\n    const time = new Date(currentDate);\n    time.setMinutes(time.getMinutes() - i);\n\n    const volatility = 100;\n    const open = basePrice + (Math.random() - 0.5) * volatility;\n    const high = open + Math.random() * volatility;\n    const low = open - Math.random() * volatility;\n    const close = (high + low) / 2;\n\n    basePrice = close;\n\n    data.unshift({\n      time: time.getTime() / 1000,\n      open,\n      high,\n      low,\n      close,\n    });\n  }\n\n  return data;\n}\n\nexport default TradingViewChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}